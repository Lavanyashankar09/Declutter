Environment Configuration Reference
====================================

This doc lists all environment variables used across our services.
Last updated: Jan 2025

SHARED (all services)
---------------------
NODE_ENV=production|staging|development
LOG_LEVEL=debug|info|warn|error
PORT=3000
CORS_ORIGINS=https://app.example.com,https://staging.example.com

DATABASE
--------
DATABASE_URL=postgresql://user:pass@host:5432/dbname
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_SSL=true
DATABASE_TIMEOUT_MS=5000

REDIS
-----
REDIS_URL=redis://host:6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=myapp:

AUTH
----
JWT_SECRET=<generated-secret>
JWT_EXPIRY=15m
REFRESH_TOKEN_EXPIRY=7d
BCRYPT_ROUNDS=12
SESSION_SECRET=<generated-secret>

AWS
---
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
S3_BUCKET_NAME=myapp-uploads
S3_BUCKET_REGION=us-east-1
CLOUDFRONT_DISTRIBUTION_ID=
CLOUDFRONT_DOMAIN=cdn.example.com

EMAIL
-----
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=
EMAIL_FROM=noreply@example.com
EMAIL_REPLY_TO=support@example.com

MONITORING
----------
SENTRY_DSN=https://key@sentry.io/project
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
DATADOG_API_KEY=
DATADOG_APP_KEY=

RATE LIMITING
-------------
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

FEATURE FLAGS
-------------
FF_NEW_DASHBOARD=false
FF_ANALYTICS_V2=false
FF_ROLE_PERMISSIONS=false
FF_EXPORT_CSV=false
FF_DARK_MODE=true

EXTERNAL APIS
-------------
STRIPE_SECRET_KEY=sk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PUBLISHABLE_KEY=pk_live_...
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...
SLACK_BOT_TOKEN=xoxb-...

QUEUE
-----
BULL_REDIS_URL=redis://host:6379/1
QUEUE_CONCURRENCY=5
QUEUE_MAX_RETRIES=3
QUEUE_RETRY_DELAY_MS=5000

FILE UPLOAD
-----------
MAX_FILE_SIZE_MB=10
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp,application/pdf
UPLOAD_TEMP_DIR=/tmp/uploads

CACHING
-------
CACHE_TTL_SECONDS=300
CACHE_MAX_ITEMS=1000
CACHE_CHECK_PERIOD_SECONDS=60
